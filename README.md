# OpenComputersBridge [WIP]
Библиотека для Kotlin/Java с клиентом OpenComputers для интеграции вашего приложения с OpenComputers.

# Планы

* Выполнение существующих функций на удаленном устройстве OpenComputers (без компиляции, быстрый способ)
* Выполнение произвольного кода на удаленном устройстве OpenComputers (с компиляцией, медленный способ)

# Описание работы 

Устройство подключается к библиотеке через протокол TCP (без шифрования), выбирает т.н. сервис, затем авторизуется и поддерживает соединение с библиотекой. 
Сервис создается приложением на стороне хоста.

При разрыве соединения устройство может подключиться снова, но одновременно два устройства не могут подключиться к одному сервису.

При удаленном вызове устройству передается т.н. очередь вызовов, из которой он будет брать операции для выполнения, выполнять и сохранять результат в память до полного завершения выполнения запроса.

Пример запроса:

```
{
  "type":"EXECUTE",
  "hash":500,
  "call_stack":[{
      "function":["computer","beep"],
      "args":[2000,0.5],
      "type":"FUNCTION"
    },{
      "code":"local computer \u003d require(\"computer\")\ncomputer.beep(2000, 0.5)",
      "type":"CODE"
    }
  ]
 }
```
Выполняет computer.beep(2000, 0.5) два раза.
